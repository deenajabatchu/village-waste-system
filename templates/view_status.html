{% extends 'base.html' %}
{% block content %}
<h3>Your Requests</h3>
<p><a class="btn btn-outline-primary" href="/raise">Raise new request</a></p>

<table class="table table-bordered">
  <thead>
    <tr><th>Date</th><th>Type</th><th>Description</th><th>Status</th></tr>
  </thead>
  <tbody>
    {% for c in complaints %}
      <tr class="status-{{ c.status|lower }}">
        <td>{{ c.complaint_date }}</td>
        <td>{{ c.waste_type }}</td>
        <td>{{ c.description }}</td>
        <td>
          {% if c.status == 'Collected' %}
            <span class="badge bg-success">Collected</span>
          {% else %}
            <span class="badge bg-danger">Pending</span>
          {% endif %}
        </td>
      </tr>
    {% else %}
      <tr><td colspan="4" class="text-center">No requests yet.</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
